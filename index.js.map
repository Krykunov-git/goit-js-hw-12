{"version":3,"file":"index.js","sources":["../src/img/bi_x-octagon.png","../src/img/bi_check2-circle.png","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEoSURBVHgBrZXtEYIwDIZDT86/biKjuBFlEt0AV3EX/tB61Abo8dUkRXjvqj2bvk8KSQUgZK0tjbEuZWAs5XOhzJ0DnWXw7rruA6zU3X9ovwfyPK9AUsi8bc0LEoWx0kn+Nk+GHDEXIWeYkxDOvGmaQjKMxSwg46ReBxljCunFheTiEFvjGgzZtzpm4IM0BZlObom9rRYBFEQynwMuIOh6zbU3wmnfTChsQj8qXJP2i4A1ZAQkmaMUJEopcLG5pKQThLsJMx9/Sr57RMDcPDyW+TsRIVwVcdXClfCwvihTutH4UhwgsUbD5u0BIciY7zMGAUGxGPRaJMdB9mpjHnQGhDQ/AyKaH4Fw5ps+CNdClrnSf98A+D99pdTdOffYc330mk4iD+6x/ACnmEjn99LB/AAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE7SURBVHgB3VVtccMwDFUYhMHMYIUQCIUQBguDhEnCYBuClkHHIGHQMtCk6/Pi8/lz25/23b3L1ZLfkxtZIXp0NLkEZm7l0QtfhQbLN+Gn8Nw0zUa/gQgb4cw7NuEZvDrrM4rw9x9S4h1ElJOaRQpYYGy82AjzQ0j8iOAlJJyDIz5RpKoVbP9VHAkzEgxVokTc2JdGlciKI6n3q092Qo04Et+1a1xxbBz/LI7kk/a4tzbFTGLi8vtNOBQZxExSlcd0NKCXZqXw6X5Mcn8L3y/nRygwYONLxiQlbjuxDwXb1GbHZEjEZ78T/YQFRzRUCS65R0hSA51DxaMCp19Bk0vuUEk+eS/qgj1HKgHfJ+pqj8zxcT3yPtY7qgHv897iih4/OebRAixKPplGHp1Qj2/fyyb8Ei7yybzRU+Mbv95G35qxX4AAAAAASUVORK5CYII=\"","import axios from 'axios';\n\nconst API_KEY = '47379272-a961c7172d29abe92af06f616';\n\nexport const searchParams = new URLSearchParams({\n  key: API_KEY,\n  q: 'yellow+flower',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  page: 1,\n  per_page: 15,\n});\n\nconst BASE_URL = `https://pixabay.com/api/`;\n\nexport async function loadData(\n  url = BASE_URL,\n  options = { params: searchParams }\n) {\n  const { data } = await axios(url, options);\n  return data;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createMarkup(arr) {\n  return arr\n    .map(\n      ({\n        id,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        largeImageURL,\n      }) => `\n        <li data-id=\"${id}\" class=\"list__item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">                          \n            <img class=\"item-img\" src=\"${webformatURL}\" alt=\"${tags}\"/>                  \n          </a>\n          <ul class=\"item-container-list\">\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Likes</h3>\n                <p class=\"item-content\">${likes}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Views</h3>\n                <p class=\"item-content\">${views}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Comments</h3>\n                <p class=\"item-content\">${comments}</p>\n              </li>\n              <li class=\"container-list\">\n                <h3 class=\"item-title\">Downloads</h3>\n                <p class=\"item-content\">${downloads}</p>\n              </li>\n            </ul>          \n        </li>\n    `\n    )\n    .join('');\n}\n\nexport const lightbox = new SimpleLightbox('.list a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconRejected from './img/bi_x-octagon.png';\nimport iconFulfilled from './img/bi_check2-circle.png';\n\nimport { loadData, searchParams } from './js/pixabay-api';\nimport { createMarkup, lightbox } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst container = document.querySelector('.list');\nconst loadMore = document.querySelector('.js-load-more');\nconst loader = document.querySelector('.js-loader');\n\nform.addEventListener('submit', searchPicture);\nloadMore.addEventListener('click', onLoadMore);\n\nlet page = 1;\nsearchParams.set('page', page);\nconst per_page = searchParams.get('per_page');\n\nfunction searchPicture(event) {\n  event.preventDefault();\n  const searchMsg = event.target.elements.message.value.trim();\n  if (!searchMsg) {\n    return;\n  }\n  loader.classList.remove('hidden');\n\n  searchParams.set('q', searchMsg);\n  page = 1;\n  searchParams.set('page', page);\n\n  loadData()\n    .then(data => {\n      loadMore.classList.add('hidden');\n      loader.classList.remove('hidden');\n      if (!data.total) {\n        iziToast.show({\n          theme: 'dark',\n          iconUrl: iconRejected,\n          backgroundColor: '#EF4040',\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          messageSize: '16px',\n          messageLineHeight: '150%',\n          position: 'topRight',\n          maxWidth: '354px',\n        });\n        container.innerHTML = '';\n        loadMore.classList.add('hidden');\n        loader.classList.add('hidden');\n        return;\n      }\n      container.innerHTML = createMarkup(data.hits);\n      loader.classList.add('hidden');\n\n      if (data.totalHits > page * per_page) {\n        loadMore.classList.remove('hidden');\n      } else {\n        iziToast.show({\n          theme: 'dark',\n          iconUrl: iconFulfilled,\n          backgroundColor: '#59a10d',\n          message: `We're sorry, but you've reached the end of search results.`,\n          messageSize: '16px',\n          messageLineHeight: '150%',\n          position: 'topRight',\n        });\n      }\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.show({\n        theme: 'dark',\n        iconUrl: iconRejected,\n        backgroundColor: '#EF4040',\n        message: `Error: ${error.message}`,\n        messageSize: '16px',\n        messageLineHeight: '150%',\n        position: 'topRight',\n        maxWidth: '354px',\n      });\n      container.innerHTML = '';\n      loadMore.classList.add('hidden');\n      loader.classList.add('hidden');\n    })\n    .finally(() => {\n      event.target.reset();\n    });\n}\n\nasync function onLoadMore() {\n  loader.classList.remove('hidden');\n  loadMore.classList.add('hidden');\n  page++;\n  searchParams.set('page', page);\n\n  try {\n    const data = await loadData();\n    container.insertAdjacentHTML('beforeend', createMarkup(data.hits));\n    loader.classList.add('hidden');\n\n    if (data.totalHits > page * per_page) {\n      loadMore.classList.remove('hidden');\n    } else {\n      iziToast.show({\n        theme: 'dark',\n        iconUrl: iconFulfilled,\n        backgroundColor: '#59a10d',\n        message: `We're sorry, but you've reached the end of search results.`,\n        messageSize: '16px',\n        messageLineHeight: '150%',\n        position: 'topRight',\n      });\n    }\n    const card = document.querySelector('.list__item');\n    const cardHeight = card.getBoundingClientRect().height;\n    window.scrollBy({\n      left: 0,\n      top: cardHeight * 2.3,\n      behavior: 'smooth',\n    });\n\n    lightbox.refresh();\n  } catch (error) {\n    iziToast.show({\n      theme: 'dark',\n      iconUrl: iconRejected,\n      backgroundColor: '#EF4040',\n      message: `Error: ${error.message}`,\n      messageSize: '16px',\n      messageLineHeight: '150%',\n      position: 'topRight',\n      maxWidth: '354px',\n    });\n  }\n}\n"],"names":["iconRejected","iconFulfilled","API_KEY","searchParams","BASE_URL","loadData","url","options","data","axios","createMarkup","arr","id","webformatURL","tags","likes","views","comments","downloads","largeImageURL","lightbox","SimpleLightbox","form","container","loadMore","loader","searchPicture","onLoadMore","page","per_page","event","searchMsg","iziToast","error","cardHeight"],"mappings":"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"}